<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>AI Visualizer</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 10px;
      }
      textarea {
        width: 100%;
        height: 100px;
      }
      input,
      textarea,
      button {
        margin-bottom: 8px;
        width: 100%;
      }
      /* Spinner */
      .spinner {
        border: 4px solid #f3f3f3;
        border-top: 4px solid #3498db;
        border-radius: 50%;
        width: 24px;
        height: 24px;
        animation: spin 1s linear infinite;
        margin: 10px auto;
      }
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      /* Button highlight after generation */
      .highlight {
        animation: pulse 1.5s infinite;
      }
      @keyframes pulse {
        0%   { box-shadow: 0 0 0 0 rgba(76,175,80, 0.7); }
        70%  { box-shadow: 0 0 0 10px rgba(76,175,80, 0); }
        100% { box-shadow: 0 0 0 0 rgba(76,175,80, 0); }
      }
      .divider {
        height: 1px;
        background-color: #ccc;
        margin: 8px 0 8px 0;
      }
      .space-after {
        margin-bottom: 16px;
      }
    </style>
  </head>
  <body>
    <h2>AI Visualizer</h2>

    <!-- AI Settings collapsible -->
    <details id="aiSettings">
      <summary style="font-weight:600;cursor:pointer;margin:8px 0;">AI Settings</summary>

    <label for="chatUrl">Chat Completion Endpoint</label>
    <input type="text" id="chatUrl" placeholder="https://api.openai.com/v1/chat/completions" />

    <label for="apiKey">API Key for Chat Completion</label>
    <input type="text" id="apiKey" placeholder="Paste your API key" />

    <label for="chatModel">Chat Model</label>
    <input type="text" id="chatModel" placeholder="gpt-4.1" />

    <button id="saveBtn">Save Credentials</button>
    <div class="divider"></div>
    </details>

    <!-- Recording Controls -->
    <div id="recordControls">
      <button id="recordBtn">Start Recording API Calls</button>
      <button id="stopBtn" disabled>Stop Recording API Calls</button>

      <div id="logPreview" class="space-after"></div>
      <div id="spinner" style="display:none;"><div class="spinner"></div></div>

      <button id="generateBtn" disabled>Generate API Description</button>
    </div>

    <div class="divider"></div>
    <button id="injectBtn">Add Ai-Visualizer to current page</button>
    <script src="popup.js"></script>
  </body>
</html> 